<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    
    <title>Document</title>
</head>
<body>
   <button class="select">赤を持つ</button> 
   <button class="select">緑を持つ</button> 
   <button class="select">青を持つ</button> 
   <button onclick="writePen()">書く</button> 
   <p id="info"></p>
   <div id='box'></div>
   <script>
       class ColorPen{
           constructor(color,length,width,color2){
               this.color=color;
               this.length=length;
               this.width=width;
               this.color2=color2;
           }
           write(){
               let msg='';
               if(this.length<=0){
                   msg='もうかけません!';
                   ele.textContent='';
                   ele.style.backgroundColor='white';

               }else{
                   this.length-=0.5;
                   msg=this.color+'で書いた。残りの長さ'+this.length;
                   ele.textContent=pen.length+'cm';
                   this.width-=15;
                   ele.style.width=pen.width+'px';
               }
               return msg;
           }
       }
       const bts=document.querySelectorAll('.select');
       let pens=[new ColorPen('赤',10,300,'red'),new ColorPen('緑',10,300,'green'),new ColorPen('青',10,300,'blue')];
       let ele=document.getElementById('box');
       let pen=null;
       const info=document.getElementById('info');
       for(let i=0;i<bts.length;i++){
           bts[i].addEventListener('click',()=>{
                pen=pens[i];
                info.textContent=pen.color+'を持った。';
                ele.style.width=pen.width+'px';
                ele.style.heigth='100px';
                ele.style.backgroundColor=pen.color2;
                ele.style.padding='10px';
                ele.style.color='white';
                ele.textContent=pen.length+'cm';
           });
       }
       const writePen=()=>{
           let msg='';
           if(pen==null){
               msg='ペンを持ってください!';
           }else{
               msg=pen.write();
           }
           info.textContent=msg;
       }
   </script>
</body>
</html>